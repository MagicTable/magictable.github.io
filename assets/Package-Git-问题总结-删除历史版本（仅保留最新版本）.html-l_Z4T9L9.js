import{_ as a,c as n,a as s,o as t}from"./app-D67BBu3k.js";const i={};function r(l,e){return t(),n("div",null,e[0]||(e[0]=[s(`<p><strong>文章摘要：</strong> 遇到版本记录过多，内存占用大，打算仅保留最新版本记录。</p><p>创建孤立分支执行以下命令，生成一个无历史记录的新分支（如 new_branch），并将当前工作区文件保留。</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">git</span> checkout <span class="token parameter variable">--orphan</span> new_branch</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>此时分支无任何提交历史，但文件内容与最新版本一致。</li></ul><p>提交最新版本添加所有文件并创建初始提交</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">git</span> <span class="token function">add</span> <span class="token parameter variable">-A</span></span>
<span class="line"><span class="token function">git</span> commit <span class="token parameter variable">-m</span> <span class="token string">&quot;Initial commit&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>此提交将成为新分支的唯一历史记录。</li></ul><p>删除原主分支删除旧的主分支（如 master 或 main）</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">git</span> branch <span class="token parameter variable">-D</span> main</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>重命名新分支将新分支命名为原主分支名</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">git</span> branch <span class="token parameter variable">-m</span> master  <span class="token comment"># 或 main</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>此时本地仓库仅保留最新提交，历史记录被清空。</li></ul><p>强制推送至远程仓库</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">git</span> push origin main <span class="token parameter variable">--force</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>注意：强制推送会覆盖远程仓库历史，确保团队其他成员已同步或备份数据。</li></ul>`,15)]))}const o=a(i,[["render",r]]),p=JSON.parse('{"path":"/software/Package-Git-%E9%97%AE%E9%A2%98%E6%80%BB%E7%BB%93-%E5%88%A0%E9%99%A4%E5%8E%86%E5%8F%B2%E7%89%88%E6%9C%AC%EF%BC%88%E4%BB%85%E4%BF%9D%E7%95%99%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%EF%BC%89.html","title":"Package - Git - 问题总结 - 删除历史版本（仅保留最新版本）","lang":"zh-CN","frontmatter":{"title":"Package - Git - 问题总结 - 删除历史版本（仅保留最新版本）","author":"魔术桌","cover":"","category":["软件程序/软件包"],"tag":["进度-已完成","知识总结"],"date":"2025-09-21T00:00:00.000Z","description":"文章摘要： 遇到版本记录过多，内存占用大，打算仅保留最新版本记录。 创建孤立分支执行以下命令，生成一个无历史记录的新分支（如 new_branch），并将当前工作区文件保留。 此时分支无任何提交历史，但文件内容与最新版本一致。 提交最新版本添加所有文件并创建初始提交 此提交将成为新分支的唯一历史记录。 删除原主分支删除旧的主分支（如 master 或 ...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Package - Git - 问题总结 - 删除历史版本（仅保留最新版本）\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2025-09-21T00:00:00.000Z\\",\\"dateModified\\":\\"2025-10-02T13:54:50.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"魔术桌\\"}]}"],["meta",{"property":"og:url","content":"https://blog.magictable.ha.cn/software/Package-Git-%E9%97%AE%E9%A2%98%E6%80%BB%E7%BB%93-%E5%88%A0%E9%99%A4%E5%8E%86%E5%8F%B2%E7%89%88%E6%9C%AC%EF%BC%88%E4%BB%85%E4%BF%9D%E7%95%99%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%EF%BC%89.html"}],["meta",{"property":"og:site_name","content":"魔术桌"}],["meta",{"property":"og:title","content":"Package - Git - 问题总结 - 删除历史版本（仅保留最新版本）"}],["meta",{"property":"og:description","content":"文章摘要： 遇到版本记录过多，内存占用大，打算仅保留最新版本记录。 创建孤立分支执行以下命令，生成一个无历史记录的新分支（如 new_branch），并将当前工作区文件保留。 此时分支无任何提交历史，但文件内容与最新版本一致。 提交最新版本添加所有文件并创建初始提交 此提交将成为新分支的唯一历史记录。 删除原主分支删除旧的主分支（如 master 或 ..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-10-02T13:54:50.000Z"}],["meta",{"property":"article:author","content":"魔术桌"}],["meta",{"property":"article:tag","content":"知识总结"}],["meta",{"property":"article:tag","content":"进度-已完成"}],["meta",{"property":"article:published_time","content":"2025-09-21T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2025-10-02T13:54:50.000Z"}]]},"git":{"updatedTime":1759413290000,"contributors":[{"name":"MagicTable-RedmiNote12TPro-Android","username":"","email":"13459588094@163.com","commits":1},{"name":"MagicTable-HappinessHome-DebianLinux","username":"","email":"13459588094@163.com","commits":1}],"changelog":[{"hash":"ea490d819f6b9c38b6faf647221faa9808862172","time":1759413290000,"email":"13459588094@163.com","author":"MagicTable-HappinessHome-DebianLinux","message":"更新博客文章数据"},{"hash":"0ac4051aa2ed1c74193034b6a797576bbbf277ff","time":1758901379000,"email":"13459588094@163.com","author":"MagicTable-RedmiNote12TPro-Android","message":"＂移动端更新笔记＂"}]},"autoDesc":true,"filePathRelative":"software/Package-Git-问题总结-删除历史版本（仅保留最新版本）.md","excerpt":"<p><strong>文章摘要：</strong> 遇到版本记录过多，内存占用大，打算仅保留最新版本记录。</p>\\n"}');export{o as comp,p as data};
